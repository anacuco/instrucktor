(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.resolve=function(a,b){return a.split('.').reduce(function(c,d){return c?c[d]:void 0},b||self)};var UserInterface=function(){function a(b,c){_classCallCheck(this,a),this.containerElement=b,this.stateContainer=c,this.hudContainer=this.containerElement.querySelector('#hud'),this.valueContainer=this.hudContainer.querySelector('ul'),this.hudContainer.querySelector('#playerName').innerHTML='Player Name',this.hudValues=[{label:'position',val:'truckOffset'}],this.updateInterval=200,this.lastUpdate=-this.updateInterval,this.render(0)}return _createClass(a,[{key:'render',value:function render(b){if(!(this.lastUpdate>b-this.updateInterval)){var c='';for(var d in this.hudValues){var e=this.hudValues[d];c+=e.label+': '+Object.resolve(e.val,this.stateContainer)}this.valueContainer.innerHTML=c,this.lastUpdate=b}}}]),a}();module.exports=UserInterface;

},{}],2:[function(require,module,exports){
'use strict';var UserInterface=require('./UserInterface'),game={init:function init(){game.layer=document.querySelector('#layer-0'),game.currentOffset=game.layer.offsetLeft,game.truck=document.querySelector('#user1'),game.truckLength=game.truck.offsetWidth,game.truckOffset=game.truck.offsetLeft,game.viewportWidth=window.innerWidth,game.placePosts(),game.bindKeyboard(),game.bindResize();var a=document.querySelector('#layer-ui');game.ui=new UserInterface(a,this)},direction:1,move:!1,viewportWidth:null,bindResize:function bindResize(){window.addEventListener('resize',function(){game.viewportWidth=window.innerWidth,console.log(game.viewportWidth)})},bindKeyboard:function bindKeyboard(){window.addEventListener('keydown',function(a){switch(a.keyCode){case 40:console.log('down');break;case 37:game.direction=-1,game.move=!0,game.truck.querySelector('svg').setAttribute('style','transform: scaleX(-1); transition: .1s');break;case 39:game.direction=1,game.move=!0,game.truck.querySelector('svg').setAttribute('style','transform: scaleX(1); transition: .1s');break;case 38:console.log('up');break;case 32:null===game.gameLoop?game.start():game.stop();break;default:console.log(a.keyCode);}}),window.addEventListener('keyup',function(){})},placePosts:function placePosts(){for(var g,a=document.querySelector('#templates .post'),b=game.layer.offsetWidth,c=game.layer.offsetLeft,f=b+c;f<b+c+4e3;f+=200)g=a.cloneNode(),g.style.left=f+'px',game.layer.appendChild(g)},layer:null,currentOffset:null,scroll:function scroll(a){var b=game.currentOffset+a;game.layer.style.left=b+'px',game.currentOffset=b},truck:null,truckOffset:null,viewPortPadding:100,moveTruck:function moveTruck(a){var b=game.truck.offsetLeft+a;game.truckOffset=b,game.truck.style.left=b+'px'},speed:5,truckLength:0,afStep:function afStep(a){game.afTs=a,game.ui.render(a),!0===game.move&&(game.moveTruck(game.direction*game.speed),(game.truckOffset<-game.currentOffset+game.viewPortPadding||game.truckOffset+game.truckLength>-game.currentOffset+game.viewportWidth-game.viewPortPadding)&&game.scroll(-game.direction*game.speed)),game.afCallback=window.requestAnimationFrame(game.afStep)},update:function update(){},gameLoopInterval:20,gameLoop:null,afCallback:null,afTs:null,start:function start(){window.cancelAnimationFrame(game.afCallback),clearInterval(game.gameLoop),game.gameLoop=setInterval(game.update,game.gameLoopInterval),game.afCallback=window.requestAnimationFrame(game.afStep)},stop:function stop(){window.cancelAnimationFrame(game.afCallback),clearInterval(game.gameLoop),game.afCallback=null,game.gameLoop=null}};window.addEventListener('DOMContentLoaded',function(){game.init(),game.start()});

},{"./UserInterface":1}]},{},[2]);
